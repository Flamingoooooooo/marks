# XSS
Cross Site Script  跨站脚本攻击：
* 指攻击者在网站上注入恶意的客户端代码，通过恶意脚本对客户端网页进行篡改，从而在用户浏览网页时，对用户浏览器进行控制或者获取用户隐私数据的一种攻击方式
* 恶意脚本一般包括 JavaScript，有时也会包含 HTML 和 Flash。有很多种方式进行 XSS 攻击，但它们的共同点为：将一些隐私数据像 cookie、session 发送给攻击者，将受害者重定向到一个由攻击者控制的网站，在受害者的机器上进行一些恶意操作。

# XSS类型
* 反射型：用户点击恶意链接(或表单提交)时跳转到攻击者准备的页面并被执行脚本
* 存储型：用户的输入被存储到服务器端，浏览器请求时，脚本被返回并执行
* 基于DOM：通过恶意脚本修改DOM结构

# XSS防范
* 用httpOnly防止cookie被劫取
* 输入输出检查
  
# CSRF
Cross Site Request Forgery  跨站请求伪造：
* 一种劫持受信任用户向服务器发送非预期请求的攻击方式
* CSRF 攻击是攻击者借助受害者的 Cookie 骗取服务器的信任，可以在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击服务器，从而在并未授权的情况下执行在权限保护之下的操作

# 通过cookie的攻击
* 把需要加载的src(例如图片)指向一个敏感操作(例如用get删除某个数据)，当这个图片被加载，浏览器就会发送这个src对应的请求，服务器收到后并执行
* 当用户访问攻击者准备的环境时，攻击者就可以对服务器发起SCRF攻击，在这个攻击过程中，攻击者借助受害者的 Cookie 骗取服务器的信任，但并不能拿到 Cookie，也看不到 Cookie 的内容。
* 而对于服务器返回的结果，由于浏览器同源策略的限制，攻击者也无法进行解析。攻击者无法从返回的结果中得到任何东西，他所能做的就是给服务器发送请求，以执行请求中所描述的命令，在服务器端直接改变数据的值，而非窃取服务器中的数据。
  
# CSRF的防范
* 验证码：最简洁而有效，CSRF 攻击往往是在用户不知情的情况下构造了网络请求。而验证码会强制用户必须与应用进行交互，才能完成最终请求
* 使用token，token不在cookie之中，可以避免CSRF攻击
* Referer Check
* http协议头部有一个referer字段记录了请求的来源地址，可以检查是否来自合法的源

# http劫持
请求服务器时，经过运营商，运营商劫持并修改再返回给客户端
# dns劫持
篡改域名对应的ip
# ssl剥离
浏览器请求服务器用明文http，服务器返回https让浏览器重定向到https，中间人劫持然后把http发给浏览器，于是浏览器和中间人明文通信，和服务器加密通信
